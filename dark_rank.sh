#!/usr/bin/env bash

# Dark Rank
python train_distill.py --base resnet18 --aux_loss l2_triplet --aux_sample distance --aux_margin 0.2 --triplet_ratio 1 --dark_ratio 2 --embedding_size 128 --teacher_embedding_size 512 --teacher_load ../metric_result/triplet/teacher_resnet50_512/best.pth --save_dir ../metric_result/distill_darkrank/dark_distill_resnet18_128 > ../metric_result/distill_darkrank/dark_distill_resnet18_128.txt
python train_distill.py --base resnet18 --aux_loss l2_triplet --aux_sample distance --aux_margin 0.2 --triplet_ratio 1 --dark_ratio 2 --embedding_size 64 --teacher_embedding_size 512 --teacher_load ../metric_result/triplet/teacher_resnet50_512/best.pth --save_dir ../metric_result/distill_darkrank/dark_distill_resnet18_64 > ../metric_result/distill_darkrank/dark_distill_resnet18_64.txt
python train_distill.py --base resnet18 --aux_loss l2_triplet --aux_sample distance --aux_margin 0.2 --triplet_ratio 1 --dark_ratio 2 --embedding_size 32 --teacher_embedding_size 512 --teacher_load ../metric_result/triplet/teacher_resnet50_512/best.pth --save_dir ../metric_result/distill_darkrank/dark_distill_resnet18_32 > ../metric_result/distill_darkrank/dark_distill_resnet18_32.txt
python train_distill.py --base resnet18 --aux_loss l2_triplet --aux_sample distance --aux_margin 0.2 --triplet_ratio 1 --dark_ratio 2 --embedding_size 16 --teacher_embedding_size 512 --teacher_load ../metric_result/triplet/teacher_resnet50_512/best.pth --save_dir ../metric_result/distill_darkrank/dark_distill_resnet18_16 > ../metric_result/distill_darkrank/dark_distill_resnet18_16.txt
